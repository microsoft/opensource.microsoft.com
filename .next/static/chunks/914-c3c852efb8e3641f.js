"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[914],{432:(t,e,r)=>{r.d(e,{E:()=>v});var i=r(2020),n=r(9853),s=r(7165),a=r(5910),o=class extends a.Q{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){let s=e.queryKey,a=e.queryHash??(0,i.F$)(s,e),o=this.get(a);return o||(o=new n.X({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){s.jG.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(t=>(0,i.MK)(e,t))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(e=>(0,i.MK)(t,e)):e}notify(t){s.jG.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){s.jG.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){s.jG.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},u=r(7948),h=r(6784),c=class extends u.k{#e;#r;#i;constructor(t){super(),this.mutationId=t.mutationId,this.#r=t.mutationCache,this.#e=[],this.state=t.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||("pending"===this.state.status?this.scheduleGc():this.#r.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){let e=()=>{this.#n({type:"continue"})};this.#i=(0,h.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(Error("No mutationFn found")),onFail:(t,e)=>{this.#n({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});let r="pending"===this.state.status,i=!this.#i.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:i}),await this.#r.config.onMutate?.(t,this);let e=await this.options.onMutate?.(t);e!==this.state.context&&this.#n({type:"pending",context:e,variables:t,isPaused:i})}let n=await this.#i.start();return await this.#r.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#r.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#n({type:"success",data:n}),n}catch(e){try{throw await this.#r.config.onError?.(e,t,this.state.context,this),await this.options.onError?.(e,t,this.state.context),await this.#r.config.onSettled?.(void 0,e,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,e,t,this.state.context),e}finally{this.#n({type:"error",error:e})}}finally{this.#r.runNext(this)}}#n(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),s.jG.batch(()=>{this.#e.forEach(e=>{e.onMutationUpdate(t)}),this.#r.notify({mutation:this,type:"updated",action:t})})}},l=class extends a.Q{constructor(t={}){super(),this.config=t,this.#s=new Set,this.#a=new Map,this.#o=0}#s;#a;#o;build(t,e,r){let i=new c({mutationCache:this,mutationId:++this.#o,options:t.defaultMutationOptions(e),state:r});return this.add(i),i}add(t){this.#s.add(t);let e=d(t);if("string"==typeof e){let r=this.#a.get(e);r?r.push(t):this.#a.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#s.delete(t)){let e=d(t);if("string"==typeof e){let r=this.#a.get(e);if(r){if(r.length>1){let e=r.indexOf(t);-1!==e&&r.splice(e,1)}else r[0]===t&&this.#a.delete(e)}}}this.notify({type:"removed",mutation:t})}canRun(t){let e=d(t);if("string"!=typeof e)return!0;{let r=this.#a.get(e),i=r?.find(t=>"pending"===t.state.status);return!i||i===t}}runNext(t){let e=d(t);if("string"!=typeof e)return Promise.resolve();{let r=this.#a.get(e)?.find(e=>e!==t&&e.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){s.jG.batch(()=>{this.#s.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#s.clear(),this.#a.clear()})}getAll(){return Array.from(this.#s)}find(t){let e={exact:!0,...t};return this.getAll().find(t=>(0,i.nJ)(e,t))}findAll(t={}){return this.getAll().filter(e=>(0,i.nJ)(t,e))}notify(t){s.jG.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(t=>t.state.isPaused);return s.jG.batch(()=>Promise.all(t.map(t=>t.continue().catch(i.lQ))))}};function d(t){return t.options.scope?.id}var f=r(920),p=r(1239);function y(t){return{onFetch:(e,r)=>{let n=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[],u={pages:[],pageParams:[]},h=0,c=async()=>{let r=!1,c=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(e.signal.aborted?r=!0:e.signal.addEventListener("abort",()=>{r=!0}),e.signal)})},l=(0,i.ZM)(e.options,e.fetchOptions),d=async(t,n,s)=>{if(r)return Promise.reject();if(null==n&&t.pages.length)return Promise.resolve(t);let a={client:e.client,queryKey:e.queryKey,pageParam:n,direction:s?"backward":"forward",meta:e.options.meta};c(a);let o=await l(a),{maxPages:u}=e.options,h=s?i.ZZ:i.y9;return{pages:h(t.pages,o,u),pageParams:h(t.pageParams,n,u)}};if(s&&a.length){let t="backward"===s,e={pages:a,pageParams:o},r=(t?function(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}:m)(n,e);u=await d(e,r,t)}else{let e=t??a.length;do{let t=0===h?o[0]??n.initialPageParam:m(n,u);if(h>0&&null==t)break;u=await d(u,t),h++}while(h<e)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=c}}}function m(t,{pages:e,pageParams:r}){let i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,r[i],r):void 0}var v=class{#u;#r;#h;#c;#l;#d;#f;#p;constructor(t={}){this.#u=t.queryCache||new o,this.#r=t.mutationCache||new l,this.#h=t.defaultOptions||{},this.#c=new Map,this.#l=new Map,this.#d=0}mount(){this.#d++,1===this.#d&&(this.#f=f.m.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#u.onFocus())}),this.#p=p.t.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#u.onOnline())}))}unmount(){this.#d--,0===this.#d&&(this.#f?.(),this.#f=void 0,this.#p?.(),this.#p=void 0)}isFetching(t){return this.#u.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#r.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#u.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.defaultQueryOptions(t),r=this.#u.build(this,e),n=r.state.data;return void 0===n?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime((0,i.d2)(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#u.findAll(t).map(({queryKey:t,state:e})=>[t,e.data])}setQueryData(t,e,r){let n=this.defaultQueryOptions({queryKey:t}),s=this.#u.get(n.queryHash),a=s?.state.data,o=(0,i.Zw)(e,a);if(void 0!==o)return this.#u.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return s.jG.batch(()=>this.#u.findAll(t).map(({queryKey:t})=>[t,this.setQueryData(t,e,r)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#u.get(e.queryHash)?.state}removeQueries(t){let e=this.#u;s.jG.batch(()=>{e.findAll(t).forEach(t=>{e.remove(t)})})}resetQueries(t,e){let r=this.#u;return s.jG.batch(()=>(r.findAll(t).forEach(t=>{t.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){let r={revert:!0,...e};return Promise.all(s.jG.batch(()=>this.#u.findAll(t).map(t=>t.cancel(r)))).then(i.lQ).catch(i.lQ)}invalidateQueries(t,e={}){return s.jG.batch(()=>(this.#u.findAll(t).forEach(t=>{t.invalidate()}),t?.refetchType==="none")?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e))}refetchQueries(t,e={}){let r={...e,cancelRefetch:e.cancelRefetch??!0};return Promise.all(s.jG.batch(()=>this.#u.findAll(t).filter(t=>!t.isDisabled()).map(t=>{let e=t.fetch(void 0,r);return r.throwOnError||(e=e.catch(i.lQ)),"paused"===t.state.fetchStatus?Promise.resolve():e}))).then(i.lQ)}fetchQuery(t){let e=this.defaultQueryOptions(t);void 0===e.retry&&(e.retry=!1);let r=this.#u.build(this,e);return r.isStaleByTime((0,i.d2)(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(i.lQ).catch(i.lQ)}fetchInfiniteQuery(t){return t.behavior=y(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(i.lQ).catch(i.lQ)}ensureInfiniteQueryData(t){return t.behavior=y(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return p.t.isOnline()?this.#r.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#u}getMutationCache(){return this.#r}getDefaultOptions(){return this.#h}setDefaultOptions(t){this.#h=t}setQueryDefaults(t,e){this.#c.set((0,i.EN)(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#c.values()],r={};return e.forEach(e=>{(0,i.Cp)(t,e.queryKey)&&Object.assign(r,e.defaultOptions)}),r}setMutationDefaults(t,e){this.#l.set((0,i.EN)(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#l.values()],r={};return e.forEach(e=>{(0,i.Cp)(t,e.mutationKey)&&Object.assign(r,e.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#h.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=(0,i.F$)(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.throwOnError&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===i.hT&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#h.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#u.clear(),this.#r.clear()}}},757:(t,e,r)=>{r.d(e,{m:()=>w});var i=r(1673),n=Symbol.for("constructDateFrom");function s(t,e){return"function"==typeof t?t(e):t&&(void 0===t?"undefined":(0,i._)(t))==="object"&&n in t?t[n](e):t instanceof Date?new t.constructor(e):new Date(e)}var a=r(8538),o=r(7025),u={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function h(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}var c={date:h({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:h({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:h({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},l={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function d(t){return function(e,r){var i;if("formatting"===((null==r?void 0:r.context)?String(r.context):"standalone")&&t.formattingValues){var n=t.defaultFormattingWidth||t.defaultWidth,s=(null==r?void 0:r.width)?String(r.width):n;i=t.formattingValues[s]||t.formattingValues[n]}else{var a=t.defaultWidth,o=(null==r?void 0:r.width)?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}return i[t.argumentCallback?t.argumentCallback(e):e]}}function f(t){return function(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;var o=a[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?function(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}(u,function(t){return t.test(o)}):function(t,e){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}(u,function(t){return t.test(o)});return r=t.valueCallback?t.valueCallback(h):h,{value:r=i.valueCallback?i.valueCallback(r):r,rest:e.slice(o.length)}}}var p={code:"en-US",formatDistance:function(t,e,r){var i,n=u[t];return(i="string"==typeof n?n:1===e?n.one:n.other.replace("{{count}}",e.toString()),null==r?void 0:r.addSuffix)?r.comparison&&r.comparison>0?"in "+i:i+" ago":i},formatLong:c,formatRelative:function(t,e,r,i){return l[t]},localize:{ordinalNumber:function(t,e){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:d({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:d({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:d({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:d({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:d({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function(t){return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.match(t.matchPattern);if(!i)return null;var n=i[0],s=e.match(t.parsePattern);if(!s)return null;var a=t.valueCallback?t.valueCallback(s[0]):s[0];return{value:a=r.valueCallback?r.valueCallback(a):a,rest:e.slice(n.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}}),era:f({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:f({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:f({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:f({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:f({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},y={};function m(t,e){return s(e||t,t)}function v(t){var e=m(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function g(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var a=s.bind(null,t||r.find(function(t){return(void 0===t?"undefined":(0,i._)(t))==="object"}));return r.map(a)}function b(t,e){var r=+m(t)-+m(e);return r<0?-1:r>0?1:r}function w(t,e){return function(t,e,r){var i,n,s,u,h,c,l=null!==(h=null!==(u=null==r?void 0:r.locale)&&void 0!==u?u:y.locale)&&void 0!==h?h:p,d=b(t,e);if(isNaN(d))throw RangeError("Invalid time value");var f=Object.assign({},r,{addSuffix:null==r?void 0:r.addSuffix,comparison:d}),w=(0,a._)(g.apply(void 0,[null==r?void 0:r.in].concat((0,o._)(d>0?[e,t]:[t,e]))),2),C=w[0],O=w[1],S=(n=(+m(O)-+m(C))/1e3,(s=null==void 0?void 0:i.roundingMethod,function(t){var e=(s?Math[s]:Math.trunc)(t);return 0===e?0:e})(n)),R=Math.round((S-(v(O)-v(C))/1e3)/60);if(R<2){if(null==r?void 0:r.includeSeconds){if(S<5)return l.formatDistance("lessThanXSeconds",5,f);if(S<10)return l.formatDistance("lessThanXSeconds",10,f);if(S<20)return l.formatDistance("lessThanXSeconds",20,f);else if(S<40)return l.formatDistance("halfAMinute",0,f);else if(S<60)return l.formatDistance("lessThanXMinutes",1,f);else return l.formatDistance("xMinutes",1,f)}return 0===R?l.formatDistance("lessThanXMinutes",1,f):l.formatDistance("xMinutes",R,f)}if(R<45)return l.formatDistance("xMinutes",R,f);if(R<90)return l.formatDistance("aboutXHours",1,f);if(R<1440){var Q=Math.round(R/60);return l.formatDistance("aboutXHours",Q,f)}if(R<2520)return l.formatDistance("xDays",1,f);else if(R<43200){var M=Math.round(R/1440);return l.formatDistance("xDays",M,f)}else if(R<86400)return c=Math.round(R/43200),l.formatDistance("aboutXMonths",c,f);if((c=function(t,e,r){var i,n,s,o,u,h,c,l,d=(0,a._)(g(void 0,t,t,e),3),f=d[0],p=d[1],y=d[2],v=b(p,y),w=Math.abs((n=(i=(0,a._)(g(void 0,p,y),2))[0],s=i[1],12*(n.getFullYear()-s.getFullYear())+(n.getMonth()-s.getMonth())));if(w<1)return 0;1===p.getMonth()&&p.getDate()>27&&p.setDate(30),p.setMonth(p.getMonth()-v*w);var C=b(p,y)===-v;u=m(f,void 0),+((h=m(u,null==o?void 0:o.in)).setHours(23,59,59,999),h)==+(l=(c=m(u,null==o?void 0:o.in)).getMonth(),c.setFullYear(c.getFullYear(),l+1,0),c.setHours(23,59,59,999),c)&&1===w&&1===b(f,y)&&(C=!1);var O=v*(w-+C);return 0===O?0:O}(O,C))<12){var P=Math.round(R/43200);return l.formatDistance("xMonths",P,f)}var D=c%12,q=Math.trunc(c/12);return D<3?l.formatDistance("aboutXYears",q,f):D<9?l.formatDistance("overXYears",q,f):l.formatDistance("almostXYears",q+1,f)}(t,s(t,Date.now()),e)}},920:(t,e,r)=>{r.d(e,{m:()=>s});var i=r(5910),n=r(2020),s=new class extends i.Q{#y;#m;#v;constructor(){super(),this.#v=t=>{if(!n.S$&&window.addEventListener){let e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#m||this.setEventListener(this.#v)}onUnsubscribe(){this.hasListeners()||(this.#m?.(),this.#m=void 0)}setEventListener(t){this.#v=t,this.#m?.(),this.#m=t(t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()})}setFocused(t){this.#y!==t&&(this.#y=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return"boolean"==typeof this.#y?this.#y:globalThis.document?.visibilityState!=="hidden"}}},1239:(t,e,r)=>{r.d(e,{t:()=>s});var i=r(5910),n=r(2020),s=new class extends i.Q{#g=!0;#m;#v;constructor(){super(),this.#v=t=>{if(!n.S$&&window.addEventListener){let e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#m||this.setEventListener(this.#v)}onUnsubscribe(){this.hasListeners()||(this.#m?.(),this.#m=void 0)}setEventListener(t){this.#v=t,this.#m?.(),this.#m=t(this.setOnline.bind(this))}setOnline(t){this.#g!==t&&(this.#g=t,this.listeners.forEach(e=>{e(t)}))}isOnline(){return this.#g}}},1769:(t,e,r)=>{r.d(e,{I:()=>P});var i=r(920),n=r(7165),s=r(9853),a=r(5910),o=r(3504),u=r(2020),h=class extends a.Q{constructor(t,e){super(),this.options=e,this.#b=t,this.#w=null,this.#C=(0,o.T)(),this.options.experimental_prefetchInRender||this.#C.reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#b;#O=void 0;#S=void 0;#R=void 0;#Q;#M;#C;#w;#P;#D;#q;#F;#E;#T;#j=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#O.addObserver(this),c(this.#O,this.options)?this.#x():this.updateResult(),this.#I())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return l(this.#O,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return l(this.#O,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#k(),this.#A(),this.#O.removeObserver(this)}setOptions(t){let e=this.options,r=this.#O;if(this.options=this.#b.defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,u.Eh)(this.options.enabled,this.#O))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#W(),this.#O.setOptions(this.options),e._defaulted&&!(0,u.f8)(this.options,e)&&this.#b.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#O,observer:this});let i=this.hasListeners();i&&d(this.#O,r,this.options,e)&&this.#x(),this.updateResult(),i&&(this.#O!==r||(0,u.Eh)(this.options.enabled,this.#O)!==(0,u.Eh)(e.enabled,this.#O)||(0,u.d2)(this.options.staleTime,this.#O)!==(0,u.d2)(e.staleTime,this.#O))&&this.#U();let n=this.#G();i&&(this.#O!==r||(0,u.Eh)(this.options.enabled,this.#O)!==(0,u.Eh)(e.enabled,this.#O)||n!==this.#T)&&this.#_(n)}getOptimisticResult(t){var e,r;let i=this.#b.getQueryCache().build(this.#b,t),n=this.createResult(i,t);return e=this,r=n,(0,u.f8)(e.getCurrentResult(),r)||(this.#R=n,this.#M=this.options,this.#Q=this.#O.state),n}getCurrentResult(){return this.#R}trackResult(t,e){let r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),e?.(i),t[i])})}),r}trackProp(t){this.#j.add(t)}getCurrentQuery(){return this.#O}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#b.defaultQueryOptions(t),r=this.#b.getQueryCache().build(this.#b,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#x({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#R))}#x(t){this.#W();let e=this.#O.fetch(this.options,t);return t?.throwOnError||(e=e.catch(u.lQ)),e}#U(){this.#k();let t=(0,u.d2)(this.options.staleTime,this.#O);if(u.S$||this.#R.isStale||!(0,u.gn)(t))return;let e=(0,u.j3)(this.#R.dataUpdatedAt,t);this.#F=setTimeout(()=>{this.#R.isStale||this.updateResult()},e+1)}#G(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#O):this.options.refetchInterval)??!1}#_(t){this.#A(),this.#T=t,!u.S$&&!1!==(0,u.Eh)(this.options.enabled,this.#O)&&(0,u.gn)(this.#T)&&0!==this.#T&&(this.#E=setInterval(()=>{(this.options.refetchIntervalInBackground||i.m.isFocused())&&this.#x()},this.#T))}#I(){this.#U(),this.#_(this.#G())}#k(){this.#F&&(clearTimeout(this.#F),this.#F=void 0)}#A(){this.#E&&(clearInterval(this.#E),this.#E=void 0)}createResult(t,e){let r;let i=this.#O,n=this.options,a=this.#R,h=this.#Q,l=this.#M,p=t!==i?t.state:this.#S,{state:y}=t,m={...y},v=!1;if(e._optimisticResults){let r=this.hasListeners(),a=!r&&c(t,e),o=r&&d(t,i,e,n);(a||o)&&(m={...m,...(0,s.k)(y.data,t.options)}),"isRestoring"===e._optimisticResults&&(m.fetchStatus="idle")}let{error:g,errorUpdatedAt:b,status:w}=m;r=m.data;let C=!1;if(void 0!==e.placeholderData&&void 0===r&&"pending"===w){let t;a?.isPlaceholderData&&e.placeholderData===l?.placeholderData?(t=a.data,C=!0):t="function"==typeof e.placeholderData?e.placeholderData(this.#q?.state.data,this.#q):e.placeholderData,void 0!==t&&(w="success",r=(0,u.pl)(a?.data,t,e),v=!0)}if(e.select&&void 0!==r&&!C){if(a&&r===h?.data&&e.select===this.#P)r=this.#D;else try{this.#P=e.select,r=e.select(r),r=(0,u.pl)(a?.data,r,e),this.#D=r,this.#w=null}catch(t){this.#w=t}}this.#w&&(g=this.#w,r=this.#D,b=Date.now(),w="error");let O="fetching"===m.fetchStatus,S="pending"===w,R="error"===w,Q=S&&O,M=void 0!==r,P={status:w,fetchStatus:m.fetchStatus,isPending:S,isSuccess:"success"===w,isError:R,isInitialLoading:Q,isLoading:Q,data:r,dataUpdatedAt:m.dataUpdatedAt,error:g,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>p.dataUpdateCount||m.errorUpdateCount>p.errorUpdateCount,isFetching:O,isRefetching:O&&!S,isLoadingError:R&&!M,isPaused:"paused"===m.fetchStatus,isPlaceholderData:v,isRefetchError:R&&M,isStale:f(t,e),refetch:this.refetch,promise:this.#C};if(this.options.experimental_prefetchInRender){let e=t=>{"error"===P.status?t.reject(P.error):void 0!==P.data&&t.resolve(P.data)},r=()=>{e(this.#C=P.promise=(0,o.T)())},n=this.#C;switch(n.status){case"pending":t.queryHash===i.queryHash&&e(n);break;case"fulfilled":("error"===P.status||P.data!==n.value)&&r();break;case"rejected":("error"!==P.status||P.error!==n.reason)&&r()}}return P}updateResult(){let t=this.#R,e=this.createResult(this.#O,this.options);this.#Q=this.#O.state,this.#M=this.options,void 0!==this.#Q.data&&(this.#q=this.#O),!(0,u.f8)(e,t)&&(this.#R=e,this.#H({listeners:(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!this.#j.size)return!0;let i=new Set(r??this.#j);return this.options.throwOnError&&i.add("error"),Object.keys(this.#R).some(e=>this.#R[e]!==t[e]&&i.has(e))})()}))}#W(){let t=this.#b.getQueryCache().build(this.#b,this.options);if(t===this.#O)return;let e=this.#O;this.#O=t,this.#S=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#I()}#H(t){n.jG.batch(()=>{t.listeners&&this.listeners.forEach(t=>{t(this.#R)}),this.#b.getQueryCache().notify({query:this.#O,type:"observerResultsUpdated"})})}};function c(t,e){return!1!==(0,u.Eh)(e.enabled,t)&&void 0===t.state.data&&("error"!==t.state.status||!1!==e.retryOnMount)||void 0!==t.state.data&&l(t,e,e.refetchOnMount)}function l(t,e,r){if(!1!==(0,u.Eh)(e.enabled,t)){let i="function"==typeof r?r(t):r;return"always"===i||!1!==i&&f(t,e)}return!1}function d(t,e,r,i){return(t!==e||!1===(0,u.Eh)(i.enabled,t))&&(!r.suspense||"error"!==t.state.status)&&f(t,r)}function f(t,e){return!1!==(0,u.Eh)(e.enabled,t)&&t.isStaleByTime((0,u.d2)(e.staleTime,t))}var p=r(8538),y=r(2115),m=r(6715);r(5155);var v=y.createContext(function(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}());function g(){}var b=function(t,e){(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&!e.isReset()&&(t.retryOnMount=!1)},w=function(t){y.useEffect(function(){t.clearReset()},[t])},C=function(t){var e,r=t.result,i=t.errorResetBoundary,n=t.throwOnError,s=t.query,a=t.suspense;return r.isError&&!i.isReset()&&!r.isFetching&&s&&(a&&void 0===r.data||(e=[r.error,s],"function"==typeof n?n(...e):!!n))},O=y.createContext(!1);O.Provider;var S=t=>{let e=t.staleTime;t.suspense&&(t.staleTime="function"==typeof e?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),"number"==typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,1e3)))},R=(t,e)=>t.isLoading&&t.isFetching&&!e,Q=(t,e)=>t?.suspense&&e.isPending,M=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function P(t,e){return function(t,e,r){var i=(0,m.jE)(r),s=y.useContext(O),a=y.useContext(v),o=i.defaultQueryOptions(t);null===(P=i.getDefaultOptions().queries)||void 0===P||null===(f=P._experimental_beforeQuery)||void 0===f||f.call(P,o),o._optimisticResults=s?"isRestoring":"optimistic",S(o),b(o,a),w(a);var h=!i.getQueryCache().get(o.queryHash),c=(0,p._)(y.useState(function(){return new e(i,o)}),1)[0],l=c.getOptimisticResult(o),d=!s&&!1!==t.subscribed;if(y.useSyncExternalStore(y.useCallback(function(t){var e=d?c.subscribe(n.jG.batchCalls(t)):g;return c.updateResult(),e},[c,d]),function(){return c.getCurrentResult()},function(){return c.getCurrentResult()}),y.useEffect(function(){c.setOptions(o)},[o,c]),Q(o,l))throw M(o,c,a);if(C({result:l,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if(null===(q=i.getDefaultOptions().queries)||void 0===q||null===(D=q._experimental_afterQuery)||void 0===D||D.call(q,o,l),o.experimental_prefetchInRender&&!u.S$&&R(l,s)){var f,P,D,q,F,E=h?M(o,c,a):null===(F=i.getQueryCache().get(o.queryHash))||void 0===F?void 0:F.promise;null==E||E.catch(g).finally(function(){c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}(t,h,e)}},2020:(t,e,r)=>{r.d(e,{Cp:()=>p,EN:()=>f,Eh:()=>h,F$:()=>d,MK:()=>c,S$:()=>i,ZM:()=>R,ZZ:()=>O,Zw:()=>s,d2:()=>u,f8:()=>y,gn:()=>a,hT:()=>S,j3:()=>o,lQ:()=>n,nJ:()=>l,pl:()=>w,y9:()=>C,yy:()=>b});var i="undefined"==typeof window||"Deno"in globalThis;function n(){}function s(t,e){return"function"==typeof t?t(e):t}function a(t){return"number"==typeof t&&t>=0&&t!==1/0}function o(t,e){return Math.max(t+(e||0)-Date.now(),0)}function u(t,e){return"function"==typeof t?t(e):t}function h(t,e){return"function"==typeof t?t(e):t}function c(t,e){let{type:r="all",exact:i,fetchStatus:n,predicate:s,queryKey:a,stale:o}=t;if(a){if(i){if(e.queryHash!==d(a,e.options))return!1}else if(!p(e.queryKey,a))return!1}if("all"!==r){let t=e.isActive();if("active"===r&&!t||"inactive"===r&&t)return!1}return("boolean"!=typeof o||e.isStale()===o)&&(!n||n===e.state.fetchStatus)&&(!s||!!s(e))}function l(t,e){let{exact:r,status:i,predicate:n,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(f(e.options.mutationKey)!==f(s))return!1}else if(!p(e.options.mutationKey,s))return!1}return(!i||e.state.status===i)&&(!n||!!n(e))}function d(t,e){return(e?.queryKeyHashFn||f)(t)}function f(t){return JSON.stringify(t,(t,e)=>v(e)?Object.keys(e).sort().reduce((t,r)=>(t[r]=e[r],t),{}):e)}function p(t,e){return t===e||typeof t==typeof e&&!!t&&!!e&&"object"==typeof t&&"object"==typeof e&&Object.keys(e).every(r=>p(t[r],e[r]))}function y(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}function m(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function v(t){if(!g(t))return!1;let e=t.constructor;if(void 0===e)return!0;let r=e.prototype;return!!(g(r)&&r.hasOwnProperty("isPrototypeOf"))&&Object.getPrototypeOf(t)===Object.prototype}function g(t){return"[object Object]"===Object.prototype.toString.call(t)}function b(t){return new Promise(e=>{setTimeout(e,t)})}function w(t,e,r){return"function"==typeof r.structuralSharing?r.structuralSharing(t,e):!1!==r.structuralSharing?function t(e,r){if(e===r)return e;let i=m(e)&&m(r);if(i||v(e)&&v(r)){let n=i?e:Object.keys(e),s=n.length,a=i?r:Object.keys(r),o=a.length,u=i?[]:{},h=0;for(let s=0;s<o;s++){let o=i?s:a[s];(!i&&n.includes(o)||i)&&void 0===e[o]&&void 0===r[o]?(u[o]=void 0,h++):(u[o]=t(e[o],r[o]),u[o]===e[o]&&void 0!==e[o]&&h++)}return s===o&&h===s?e:u}return r}(t,e):e}function C(t,e,r=0){let i=[...t,e];return r&&i.length>r?i.slice(1):i}function O(t,e,r=0){let i=[e,...t];return r&&i.length>r?i.slice(0,-1):i}var S=Symbol();function R(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:t.queryFn&&t.queryFn!==S?t.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${t.queryHash}'`))}},3504:(t,e,r)=>{r.d(e,{T:()=>i});function i(){let t,e;let r=new Promise((r,i)=>{t=r,e=i});function i(t){Object.assign(r,t),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=e=>{i({status:"fulfilled",value:e}),t(e)},r.reject=t=>{i({status:"rejected",reason:t}),e(t)},r}},5910:(t,e,r)=>{r.d(e,{Q:()=>i});var i=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},6715:(t,e,r)=>{r.d(e,{Ht:()=>o,jE:()=>a});var i=r(2115),n=r(5155),s=i.createContext(void 0),a=function(t){var e=i.useContext(s);if(t)return t;if(!e)throw Error("No QueryClient set, use QueryClientProvider to set one");return e},o=function(t){var e=t.client,r=t.children;return i.useEffect(function(){return e.mount(),function(){e.unmount()}},[e]),(0,n.jsx)(s.Provider,{value:e,children:r})}},6784:(t,e,r)=>{r.d(e,{II:()=>l,v_:()=>u,wm:()=>c});var i=r(920),n=r(1239),s=r(3504),a=r(2020);function o(t){return Math.min(1e3*2**t,3e4)}function u(t){return(t??"online")!=="online"||n.t.isOnline()}var h=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function c(t){return t instanceof h}function l(t){let e,r=!1,c=0,l=!1,d=(0,s.T)(),f=()=>i.m.isFocused()&&("always"===t.networkMode||n.t.isOnline())&&t.canRun(),p=()=>u(t.networkMode)&&t.canRun(),y=r=>{l||(l=!0,t.onSuccess?.(r),e?.(),d.resolve(r))},m=r=>{l||(l=!0,t.onError?.(r),e?.(),d.reject(r))},v=()=>new Promise(r=>{e=t=>{(l||f())&&r(t)},t.onPause?.()}).then(()=>{e=void 0,l||t.onContinue?.()}),g=()=>{let e;if(l)return;let i=0===c?t.initialPromise:void 0;try{e=i??t.fn()}catch(t){e=Promise.reject(t)}Promise.resolve(e).then(y).catch(e=>{if(l)return;let i=t.retry??3*!a.S$,n=t.retryDelay??o,s="function"==typeof n?n(c,e):n,u=!0===i||"number"==typeof i&&c<i||"function"==typeof i&&i(c,e);if(r||!u){m(e);return}c++,t.onFail?.(c,e),(0,a.yy)(s).then(()=>f()?void 0:v()).then(()=>{r?m(e):g()})})};return{promise:d,cancel:e=>{l||(m(new h(e)),t.abort?.())},continue:()=>(e?.(),d),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:p,start:()=>(p()?g():v().then(g),d)}}},7165:(t,e,r)=>{r.d(e,{jG:()=>n});var i=t=>setTimeout(t,0),n=function(){let t=[],e=0,r=t=>{t()},n=t=>{t()},s=i,a=i=>{e?t.push(i):s(()=>{r(i)})},o=()=>{let e=t;t=[],e.length&&s(()=>{n(()=>{e.forEach(t=>{r(t)})})})};return{batch:t=>{let r;e++;try{r=t()}finally{--e||o()}return r},batchCalls:t=>(...e)=>{a(()=>{t(...e)})},schedule:a,setNotifyFunction:t=>{r=t},setBatchNotifyFunction:t=>{n=t},setScheduler:t=>{s=t}}}()},7948:(t,e,r)=>{r.d(e,{k:()=>n});var i=r(2020),n=class{#K;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,i.gn)(this.gcTime)&&(this.#K=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(i.S$?1/0:3e5))}clearGcTimeout(){this.#K&&(clearTimeout(this.#K),this.#K=void 0)}}},9853:(t,e,r)=>{r.d(e,{X:()=>o,k:()=>u});var i=r(2020),n=r(7165),s=r(6784),a=r(7948),o=class extends a.k{#L;#N;#X;#b;#i;#h;#Y;constructor(t){super(),this.#Y=!1,this.#h=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#b=t.client,this.#X=this.#b.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#L=function(t){let e="function"==typeof t.initialData?t.initialData():t.initialData,r=void 0!==e,i=r?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=t.state??this.#L,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#h,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#X.remove(this)}setData(t,e){let r=(0,i.pl)(this.state.data,t,this.options);return this.#n({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#n({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(i.lQ).catch(i.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#L)}isActive(){return this.observers.some(t=>!1!==(0,i.Eh)(t.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===i.hT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):void 0===this.state.data)}isStaleByTime(t=0){return this.state.isInvalidated||void 0===this.state.data||!(0,i.j3)(this.state.dataUpdatedAt,t)}onFocus(){let t=this.observers.find(t=>t.shouldFetchOnWindowFocus());t?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){let t=this.observers.find(t=>t.shouldFetchOnReconnect());t?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#X.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#Y?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#X.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}fetch(t,e){if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){let t=this.observers.find(t=>t.options.queryFn);t&&this.setOptions(t.options)}let r=new AbortController,n=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(this.#Y=!0,r.signal)})},a={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#b,state:this.state,fetchFn:()=>{let t=(0,i.ZM)(this.options,e),r={client:this.#b,queryKey:this.queryKey,meta:this.meta};return(n(r),this.#Y=!1,this.options.persister)?this.options.persister(t,r,this):t(r)}};n(a),this.options.behavior?.onFetch(a,this),this.#N=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#n({type:"fetch",meta:a.fetchOptions?.meta});let o=t=>{(0,s.wm)(t)&&t.silent||this.#n({type:"error",error:t}),(0,s.wm)(t)||(this.#X.config.onError?.(t,this),this.#X.config.onSettled?.(this.state.data,t,this)),this.scheduleGc()};return this.#i=(0,s.II)({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:t=>{if(void 0===t){o(Error(`${this.queryHash} data is undefined`));return}try{this.setData(t)}catch(t){o(t);return}this.#X.config.onSuccess?.(t,this),this.#X.config.onSettled?.(t,this.state.error,this),this.scheduleGc()},onError:o,onFail:(t,e)=>{this.#n({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#i.start()}#n(t){this.state=(e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...u(e.data,this.options),fetchMeta:t.meta??null};case"success":return{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let r=t.error;if((0,s.wm)(r)&&r.revert&&this.#N)return{...this.#N,fetchStatus:"idle"};return{...e,error:r,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),n.jG.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#X.notify({query:this,type:"updated",action:t})})}};function u(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,s.v_)(e.networkMode)?"fetching":"paused",...void 0===t&&{error:null,status:"pending"}}}}}]);